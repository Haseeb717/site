!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){e.defineMode("javascript",function(t,r){function n(e,t,r){return Ee=e,Ie=r,t}function i(e,t){var r=e.next();if('"'==r||"'"==r)return t.tokenize=a(r),t.tokenize(e,t);if("."==r&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return n("number","number");if("."==r&&e.match(".."))return n("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return n(r);if("="==r&&e.eat(">"))return n("=>","operator");if("0"==r&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),n("number","number");if(/\d/.test(r))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),n("number","number");if("/"==r){if(e.eat("*"))return t.tokenize=o,o(e,t);if(e.eat("/"))return e.skipToEnd(),n("comment","comment");if("operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)){e:for(var r=!1,i,u=!1;null!=(i=e.next());){if(!r){if("/"==i&&!u)break e;"["==i?u=!0:u&&"]"==i&&(u=!1)}r=!r&&"\\"==i}return e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),n("regexp","string-2")}return e.eatWhile(Me),n("operator","operator",e.current())}return"`"==r?(t.tokenize=c,c(e,t)):"#"==r?(e.skipToEnd(),n("error","error")):Me.test(r)?(e.eatWhile(Me),n("operator","operator",e.current())):we.test(r)?(e.eatWhile(we),r=e.current(),(i=je.propertyIsEnumerable(r)&&je[r])&&"."!=t.lastType?n(i.type,i.style,r):n("variable","variable",r)):void 0}function a(e){return function(t,r){var a=!1,o;if(ke&&"@"==t.peek()&&t.match(Ve))return r.tokenize=i,n("jsonld-keyword","meta");for(;null!=(o=t.next())&&(o!=e||a);)a=!a&&"\\"==o;return a||(r.tokenize=i),n("string","string")}}function o(e,t){for(var r=!1,a;a=e.next();){if("/"==a&&r){t.tokenize=i;break}r="*"==a}return n("comment","comment")}function c(e,t){for(var r=!1,a;null!=(a=e.next());){if(!r&&("`"==a||"$"==a&&e.eat("{"))){t.tokenize=i;break}r=!r&&"\\"==a}return n("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(0>r)){for(var n=0,i=!1,r=r-1;0<=r;--r){var a=e.string.charAt(r),o=ze.indexOf(a);if(0<=o&&3>o){if(!n){++r;break}if(0==--n)break}else if(3<=o&&6>o)++n;else if(we.test(a))i=!0;else{if(/["'\/]/.test(a))return;if(i&&!n){++r;break}}}i&&!n&&(t.fatArrowAt=r)}}function l(e,t,r,n,i,a){this.indented=e,this.column=t,this.type=r,this.prev=i,this.info=a,null!=n&&(this.align=n)}function f(){for(var e=arguments.length-1;0<=e;e--)pe.push(arguments[e])}function s(){return f.apply(null,arguments),!0}function p(e){function t(t){for(;t;t=t.next)if(t.name==e)return!0;return!1}var n=de;n.context?(ve="def",t(n.localVars)||(n.localVars={name:e,next:n.localVars})):!t(n.globalVars)&&r.globalVars&&(n.globalVars={name:e,next:n.globalVars})}function d(){de.context={prev:de.context,vars:de.localVars},de.localVars=Ae}function v(){de.localVars=de.context.vars,de.context=de.context.prev}function m(e,t){var r=function(){var r=de,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var i=r.lexical;i&&")"==i.type&&i.align;i=i.prev)n=i.indented;r.lexical=new l(n,me.column(),e,null,r.lexical,t)};return r.lex=!0,r}function y(){var e=de;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function b(e){function t(r){return r==e?s():";"==e?f():s(t)}return t}function x(e,t){return"var"==e?s(m("vardef",t.length),H,b(";"),y):"keyword a"==e?s(m("form"),k,x,y):"keyword b"==e?s(m("form"),x,y):"{"==e?s(m("}"),W,y):";"==e?s():"if"==e?("else"==de.lexical.info&&de.cc[de.cc.length-1]==y&&de.cc.pop()(),s(m("form"),k,x,y,J)):"function"==e?s(Y):"for"==e?s(m("form"),K,x,y):"variable"==e?s(m("stat"),A):"switch"==e?s(m("form"),k,m("}","switch"),b("{"),W,y,y):"case"==e?s(k,b(":")):"default"==e?s(b(":")):"catch"==e?s(m("form"),d,b("("),Z,b(")"),x,y,v):"module"==e?s(m("form"),d,ne,v,y):"class"==e?s(m("form"),_,y):"export"==e?s(m("form"),ie,y):"import"==e?s(m("form"),ae,y):f(m("stat"),k,b(";"),y)}function k(e){return g(e,!1)}function h(e){return g(e,!0)}function g(e,t){if(de.fatArrowAt==me.start){var r=t?T:z;if("("==e)return s(d,m(")"),P(U,")"),y,b("=>"),r,v);if("variable"==e)return f(d,U,b("=>"),r,v)}return r=t?V:M,Te.hasOwnProperty(e)?s(r):"function"==e?s(Y,r):"keyword c"==e?s(t?j:w):"("==e?s(m(")"),w,se,b(")"),y,r):"operator"==e||"spread"==e?s(t?h:k):"["==e?s(m("]"),le,y,r):"{"==e?S($,"}",null,r):"quasi"==e?f(E,r):s()}function w(e){return e.match(/[;\}\)\],]/)?f():f(k)}function j(e){return e.match(/[;\}\)\],]/)?f():f(h)}function M(e,t){return","==e?s(k):V(e,t,!1)}function V(e,t,r){var n=0==r?M:V,i=0==r?k:h;if("=>"==e)return s(d,r?T:z,v);if("operator"==e)return/\+\+|--/.test(t)?s(n):"?"==t?s(k,b(":"),i):s(i);if("quasi"==e)return f(E,n);if(";"!=e){if("("==e)return S(h,")","call",n);if("."==e)return s(C,n);if("["==e)return s(m("]"),w,b("]"),y,n)}}function E(e,t){return"quasi"!=e?f():"${"!=t.slice(t.length-2)?s(E):s(k,I)}function I(e){if("}"==e)return ve="string-2",de.tokenize=c,s(E)}function z(e){return u(me,de),f("{"==e?x:k)}function T(e){return u(me,de),f("{"==e?x:h)}function A(e){return":"==e?s(y,x):f(M,b(";"),y)}function C(e){if("variable"==e)return ve="property",s()}function $(e,t){return"variable"==e||"keyword"==ye?(ve="property",s("get"==t||"set"==t?q:O)):"number"==e||"string"==e?(ve=ke?"property":ye+" property",s(O)):"jsonld-keyword"==e?s(O):"["==e?s(k,b("]"),O):void 0}function q(e){return"variable"!=e?f(O):(ve="property",s(Y))}function O(e){return":"==e?s(h):"("==e?f(Y):void 0}function P(e,t){function r(n){return","==n?(n=de.lexical,"call"==n.info&&(n.pos=(n.pos||0)+1),s(e,r)):n==t?s():s(b(t))}return function(n){return n==t?s():f(e,r)}}function S(e,t,r){for(var n=3;n<arguments.length;n++)pe.push(arguments[n]);return s(m(t,r),P(e,t),y)}function W(e){return"}"==e?s():f(x,W)}function N(e){if(ge&&":"==e)return s(B)}function B(e){if("variable"==e)return ve="variable-3",s()}function H(){return f(U,N,F,G)}function U(e,t){return"variable"==e?(p(t),s()):"["==e?S(U,"]"):"{"==e?S(D,"}"):void 0}function D(e,t){return"variable"!=e||me.match(/^\s*:/,!1)?("variable"==e&&(ve="property"),s(b(":"),U,F)):(p(t),s(F))}function F(e,t){if("="==t)return s(h)}function G(e){if(","==e)return s(H)}function J(e,t){if("keyword b"==e&&"else"==t)return s(m("form","else"),x,y)}function K(e){if("("==e)return s(m(")"),L,b(")"),y)}function L(e){return"var"==e?s(H,b(";"),R):";"==e?s(R):"variable"==e?s(Q):f(k,b(";"),R)}function Q(e,t){return"in"==t||"of"==t?(ve="keyword",s(k)):s(M,R)}function R(e,t){return";"==e?s(X):"in"==t||"of"==t?(ve="keyword",s(k)):f(k,b(";"),X)}function X(e){")"!=e&&s(k)}function Y(e,t){return"*"==t?(ve="keyword",s(Y)):"variable"==e?(p(t),s(Y)):"("==e?s(d,m(")"),P(Z,")"),y,x,v):void 0}function Z(e){return"spread"==e?s(Z):f(U,N)}function _(e,t){if("variable"==e)return p(t),s(ee)}function ee(e,t){return"extends"==t?s(k,ee):"{"==e?s(m("}"),te,y):void 0}function te(e,t){return"variable"==e||"keyword"==ye?"static"==t?(ve="keyword",s(te)):(ve="property","get"==t||"set"==t?s(re,Y,te):s(Y,te)):"*"==t?(ve="keyword",s(te)):";"==e?s(te):"}"==e?s():void 0}function re(e){return"variable"!=e?f():(ve="property",s())}function ne(e,t){return"string"==e?s(x):"variable"==e?(p(t),s(ue)):void 0}function ie(e,t){return"*"==t?(ve="keyword",s(ue,b(";"))):"default"==t?(ve="keyword",s(k,b(";"))):f(x)}function ae(e){return"string"==e?s():f(oe,ue)}function oe(e,t){return"{"==e?S(oe,"}"):("variable"==e&&p(t),"*"==t&&(ve="keyword"),s(ce))}function ce(e,t){if("as"==t)return ve="keyword",s(oe)}function ue(e,t){if("from"==t)return ve="keyword",s(k)}function le(e){return"]"==e?s():f(h,fe)}function fe(e){return"for"==e?f(se,b("]")):","==e?s(P(j,"]")):f(P(h,"]"))}function se(e){return"for"==e?s(K,se):"if"==e?s(k,se):void 0}var pe,de,ve,me,ye,be=t.indentUnit,xe=r.statementIndent,ke=r.jsonld,he=r.json||ke,ge=r.typescript,we=r.wordCharacters||/[\w$\xa1-\uffff]/,je=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),i=e("operator"),a={type:"atom",style:"atom"},t={"if":e("if"),"while":t,"with":t,"else":r,"do":r,"try":r,"finally":r,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"debugger":n,"var":e("var"),"const":e("var"),"let":e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":a,"false":a,"null":a,undefined:a,NaN:a,Infinity:a,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),"yield":n,"export":e("export"),"import":e("import"),"extends":n};if(ge){var r={type:"variable",style:"variable-3"},r={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:r,number:r,bool:r,any:r},o;for(o in r)t[o]=r[o]}return t}(),Me=/[+\-*&%=<>!?|~^]/,Ve=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ee,Ie,ze="([{}])",Te={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0};pe=ve=de=null,ye=me=void 0;var Ae={name:"this",next:{name:"arguments"}};return y.lex=!0,{startState:function(e){return e={tokenize:i,lastType:"sof",cc:[],lexical:new l((e||0)-be,0,"block",!1),localVars:r.localVars,context:r.localVars&&{vars:r.localVars},indented:0},r.globalVars&&"object"==typeof r.globalVars&&(e.globalVars=r.globalVars),e},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),u(e,t)),t.tokenize!=o&&e.eatSpace())return null;var r=t.tokenize(e,t);if("comment"==Ee)return r;t.lastType="operator"!=Ee||"++"!=Ie&&"--"!=Ie?Ee:"incdec";var n;e:{var i=Ee,a=Ie,c=t.cc;for(de=t,me=e,ve=null,pe=c,ye=r,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;)if((c.length?c.pop():he?k:x)(i,a)){for(;c.length&&c[c.length-1].lex;)c.pop()();if(ve){n=ve;break e}if(n="variable"==i)t:{for(n=t.localVars;n;n=n.next)if(n.name==a){n=!0;break t}for(i=t.context;i;i=i.prev)for(n=i.vars;n;n=n.next)if(n.name==a){n=!0;break t}n=void 0}if(n){n="variable-2";break e}n=r;break e}}return n},indent:function(t,n){if(t.tokenize==o)return e.Pass;if(t.tokenize!=i)return 0;var a=n&&n.charAt(0),c=t.lexical;if(!/^\s*else\b/.test(n))for(var u=t.cc.length-1;0<=u;--u){var l=t.cc[u];if(l==y)c=c.prev;else if(l!=J)break}return"stat"==c.type&&"}"==a&&(c=c.prev),xe&&")"==c.type&&"stat"==c.prev.type&&(c=c.prev),u=c.type,l=a==u,"vardef"==u?c.indented+("operator"==t.lastType||","==t.lastType?c.info+1:0):"form"==u&&"{"==a?c.indented:"form"==u?c.indented+be:"stat"==u?c.indented+("operator"==t.lastType||","==t.lastType||Me.test(n.charAt(0))||/[,.]/.test(n.charAt(0))?xe||be:0):"switch"!=c.info||l||0==r.doubleIndentSwitch?c.align?c.column+(l?0:1):c.indented+(l?0:be):c.indented+(/^(?:case|default)\b/.test(n)?be:2*be)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:he?null:"/*",blockCommentEnd:he?null:"*/",lineComment:he?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:he?"json":"javascript",jsonldMode:ke,jsonMode:he}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})});