/*
 Copyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.
 For licensing, see LICENSE.md or http://ckeditor.com/license
*/
!function(){function e(e,t,s){var n=[],l=[],r;for(r=0;r<e.styleSheets.length;r++){var o=e.styleSheets[r];if(!((o.ownerNode||o.owningElement).getAttribute("data-cke-temp")||o.href&&"chrome://"==o.href.substr(0,9)))try{for(var c=o.cssRules||o.rules,o=0;o<c.length;o++)l.push(c[o].selectorText)}catch(e){}}for(r=l.join(" "),r=r.replace(/(,|>|\+|~)/g," "),r=r.replace(/\[[^\]]*/g,""),r=r.replace(/#[^\s]*/g,""),r=r.replace(/\:{1,2}[^\s]*/g,""),r=r.replace(/\s+/g," "),r=r.split(" "),e=[],l=0;l<r.length;l++)c=r[l],s.test(c)&&!t.test(c)&&-1==CKEDITOR.tools.indexOf(e,c)&&e.push(c);for(r=0;r<e.length;r++)s=e[r].split("."),t=s[0].toLowerCase(),s=s[1],n.push({name:t+"."+s,element:t,attributes:{"class":s}});return n}CKEDITOR.plugins.add("stylesheetparser",{init:function(t){t.filter.disable();var s;t.once("stylesSet",function(n){n.cancel(),t.once("contentDom",function(){t.getStylesSet(function(n){s=n.concat(e(t.document.$,t.config.stylesheetParser_skipSelectors||/(^body\.|^\.)/i,t.config.stylesheetParser_validSelectors||/\w+\.\w+/)),t.getStylesSet=function(e){if(s)return e(s)},t.fire("stylesSet",{styles:s})})})},null,null,1)}})}();